<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset=utf-8>
        <title>Practical task #8 (pow and calculate)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <script>
             'use strict';
            
            function pow(x) {
                let result = x;
                    let fn = function(y) {

                    if (y < 0) {
                        for (let i = 0; i >= y; i--) {
                            result = result / x;
                        }
                    } else if (y === 0) {
                        result = 1;
                    } else {
                        for (let i = 1; i < y; i++) {
                            result = result * x;
                        }
                    }

                    console.log(`${x}^${y} = ${result}`);
                }

                return fn;
            }

            function calculate(a) {
                return function(sign) {
                    return function op(b) {

                    let result;

                    if (sign === "/" && b === 0) {
                        return console.log(`${a}${sign}${b} = Ошибка (на ноль делить нельзя)`);
                    } 
                    switch (sign) {
                        case "+":
                            result = a + b;
                            return console.log(`${a}${sign}${b} = ${result}`);
                            break;

                        case "-":
                            result = a - b;
                            return console.log(`${a}${sign}${b} = ${result}`);
                            break;

                        case "/":
                            result = a / b;
                            return console.log(`${a}${sign}${b} = ${result}`);
                            break;

                        case "*":
                            result = a * b;
                            return console.log(`${a}${sign}${b} = ${result}`);
                            break;
                        }
                    }
                }    
            };

            pow(-2)(3);
            calculate(1)("+")(2);
            pow(4)(2);
            calculate(3)("*")(7);
            pow(16)(0);
            calculate(15)("/")(3);
            pow(2)(-3);
            calculate(2)("/")(0);
        </script>
    </body> 
</html>