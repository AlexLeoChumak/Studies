<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MVC example</title>
  <style>
    * {
      box-sizing: border-box;
      vertical-align: bottom;
    }
    body {
      font-family: Verdana, Geneva, Tahoma, sans-serif;
      text-align: center;
    }
    input,
    select,
    button {
      margin: 10px 5px 0;
      width: 16.4%;
      height: 30px;
      font-size: 16px;
    }
    option {
      text-align: center;
    }
    .divResult {
      border: 2px black solid;
      width: 68%;
      height: 50px;
      margin: 30px auto;
      font-size: 35px;
    }
  </style>
</head>
<body>
<script>

  //html
    const containerCalc = document.createElement('main');
    const formCalc = document.createElement('form');
    const divResult = document.createElement('div');
    const calcTitle = document.createElement('h1');
    const inputOne = document.createElement('input');
    const inputSelect = document.createElement('select');
    const opt1 = document.createElement('option');
    const opt2 = document.createElement('option');
    const opt3 = document.createElement('option');
    const opt4 = document.createElement('option');
    const opt5 = document.createElement('option');
    const inputTwo = document.createElement('input');
    const btnCalculate = document.createElement('button');
    const btnReset = document.createElement('input');
    let getValueSelect = 'Выберите оператор';

    document.body.prepend(containerCalc);
    containerCalc.append(formCalc, divResult);
    inputSelect.append(opt1, opt2, opt3, opt4, opt5);
    formCalc.append(calcTitle, inputOne, inputSelect, inputTwo, btnCalculate);

    calcTitle.textContent = 'Calculator made with technology MVC';
    inputOne.type = "number";
    inputOne.classList.add('input_one');
    inputOne.focus();
    opt1.textContent = 'Выбрать оператор';
    opt2.textContent = '+';
    opt3.textContent = '-';
    opt4.textContent = '*';
    opt5.textContent = '/';
    inputTwo.type = "number";
    inputTwo.classList.add('input_two');
    btnCalculate.disabled = true;
    btnCalculate.textContent = 'Вычислить';
    divResult.classList.add('divResult');
    divResult.textContent = 0;

    
    //controller
    //при любом изменении селекта переписывать значение и обновлять его в модели
    inputSelect.addEventListener('input', (e) => {
      getValueSelect = e.target.value;
      model.update();
    });

    //проверка на значения в инпутах, чтобы задизейблить кнопку
    containerCalc.addEventListener('input', (event) => {
      if (!inputOne.value || !inputTwo.value) {
        btnCalculate.disabled = true;
      } else {
        btnCalculate.disabled = false;
      }
      model.update();
    });

    //кнопка рассчитать
    btnCalculate.addEventListener('click', (e) => {
      e.preventDefault();
      model.calculate(model.valueOne, model.valueTwo);
    });

    //model
    const model = {
      
      //расчет результата вычислений
      calculate: function(x, y){
        if(!x || !y){
          view.showResult('Введите значения');
        } else {
          switch (this.valueSelect) {
            case '+': view.showResult(Number(x) + Number(y)); 
            break;
            case '-': view.showResult(x - y); 
            break;
            case '*': view.showResult(x * y); 
            break;
            case '/': view.showResult(y === '0' ? 'На 0 делить нельзя' : x / y);
            break;
            default: view.showResult('Выберите оператор');
          }
        }
      },

      //обновление свойств
      update: function(){
        this.valueSelect = getValueSelect;
        this.valueOne = inputOne.value;
        this.valueTwo = inputTwo.value;
      }
    }

      //view
    //показывает результат
    const view = {
      showResult: function(n){
        divResult.textContent = n;
      }
    }

</script>
</body>
</html>