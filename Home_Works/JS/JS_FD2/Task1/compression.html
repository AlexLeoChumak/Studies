<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset=utf-8>
        <title>Practical task #5 (compress)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <script>
            'use strict';

            function compress(str) {
                let counter = 1;
                let result = '';
              
                for (let i = 0; i < str.length; i++) 

                    if (str[i] == str[i+1] && i < str.length) {
                        counter++;
                    } else {
                        result += str[i] + counter;
                        counter = 1;
                    }
                    return `"${str}" => "${result}"`;
                }

            console.log(compress('fffdccbbb'));


            function uncompress(str2) {
            let nums = 0; 
            let order = 0; 
            let result2 = '';

            for (let i = str2.length - 1; i >= 0; i--) {
                if (isNaN(str2[i])) {
                    result2 = str2[i].repeat(order ? nums : 1) + result2;
                    nums = 0;
                    order = 0;
                } else nums += str2[i] * 10 ** order++;
            }

            return `"${str2}" => "${result2}"`;
            }
 
            console.log(uncompress('a4b1c100'));
        </script>
    </body> 
</html>